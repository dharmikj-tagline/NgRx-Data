<h3 class="text-danger fw-bold text-center mt-3">POSTS LIST (CRUD)</h3>
<hr>
<div class="container mb-4">
    <div>
        <table class="table table-striped">
            <thead class="thead-dark mt-3">
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">TITLE</th>
                    <th scope="col">BODY</th>
                    <th scope="col">SOCIALMEDIA</th>
                    <th scope="col">CAPTION</th>
                    <th scope="col">ACTION</th>
                </tr>
            </thead>
            <tbody>
                <ng-container *ngFor="let post of postList$ | async; let i = index">
                    <tr>
                        <td>{{ post.id }}</td>
                        <td>{{ post.title }}</td>
                        <td>{{ post.body }}</td>
                        <td>{{ post.socialMedia }}</td>
                        <td>{{ post.caption }}</td>
                        <td class="w-25">
                            <button class="btn btn-primary" (click)="updateDetail(post)"> UPDATE </button>
                            <button class="btn btn-danger ms-2" (click)="deleteUser(post.id)"> DELETE </button>
                            <button class="btn btn-info ms-2" (click)="viewDetail(post.id)"> VIEW </button>
                        </td>
                    </tr>
                </ng-container>
            </tbody>
        </table>
        <div class="mt-5">
            <div class="mt-4 d-flex justify-content-between">
                <button type="button" class="btn btn-primary" (click)="addPost()">
                    Add Default User
                </button>
                <!--<button type="button" class="btn btn-warning" (click)="addFilter()">
                    Add Filter
                </button>-->
                <button type="button" class="btn btn-danger" (click)="removeAll()">
                    Remove All
                </button>
            </div>
        </div>
    </div>
</div>

<dialog #modal>
    <div class="d-flex justify-content-between">
        <h5 class="text-danger fw-bold">VIEW POST DETAIL</h5>
        <button type="button" class="btn p-0" (click)="closeModal()">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-x-circle"
                viewBox="0 0 20 20">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
                <path
                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708" />
            </svg>
        </button>
    </div>
    <hr>

    <ng-container *ngIf="postDetail">
        <div class="px-4">
            <h6><span class="text-danger fw-bold">ID:</span> {{ postDetail['id'] }}</h6>
            <h6><span class="text-danger fw-bold">TITLE:</span> {{ postDetail['title'] }}</h6>
            <h6><span class="text-danger fw-bold">BODY:</span> {{ postDetail['body'] }}</h6>
            <h6><span class="text-danger fw-bold">SOCIALMEDIA:</span> {{ postDetail['socialMedia'] }}</h6>
            <h6><span class="text-danger fw-bold">CAPTION:</span> {{ postDetail['caption'] }}</h6>
        </div>
    </ng-container>
    <hr>
<!-- 
    <div class="mt-3 d-flex h-25 w-100 justify-content-end align-items-end">
        <button class="btn btn-primary ms-2" (click)="closeModal()"> SUBMIT </button>
        <button class="btn btn-danger ms-2" (click)="closeModal()"> CLOSE </button>
    </div> -->
</dialog>